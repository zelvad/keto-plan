$(document).ready((function(){function e(){this.data={userName:"Посетитель",gender:null,activity:null,protein:null,vegetables:null,food:null,labor:null,habbits:null,age:null,weight:null,height:null,new_weight:null}}$(".card-header").on("click",(function(){$(this).toggleClass("active"),$(this).next().slideToggle()})),$(".gender-label").click((function(){"male"===$(this).data("gender")?($(".gender-input--male").prop("checked",!0),$(".personalInfo-avatar--female").hide(),$(".personalInfo-avatar--male").show(),e.gender=1):($(".gender-input--female").prop("checked",!0),$(".personalInfo-avatar--male").hide(),$(".personalInfo-avatar--female").show(),e.gender=2),$(".quiz-btn").prop("disabled",!1)})),$(".js-next-section").click((function(){var e=$(".page-screen.active");e.removeClass("active"),e.next().addClass("active")})),$(".quiz-step--activity .choose-input").click((function(){e.activity=$(this).val(),setTimeout((function(){$(".quiz-step--activity").removeClass("active"),$(".quiz-step--products").addClass("active")}),300)})),$(".quiz-step--products .choose-input").click((function(){0<$('.quiz-step--products input[name="food"]:checked').length?$(".quiz-step--products .btn-primary").prop("disabled",!1):$(".quiz-step--products .btn-primary").prop("disabled",!0)})),$(".quiz-step--products .btn-primary").click((function(){$(".quiz-step--products").removeClass("active"),$(".quiz-step--veges").addClass("active")})),$(".quiz-step--veges .choose-input").click((function(){0<$('.quiz-step--veges input[name="food"]:checked').length?$(".quiz-step--veges .btn-primary").prop("disabled",!1):$(".quiz-step--veges .btn-primary").prop("disabled",!0)})),$(".quiz-step--veges .btn-primary").click((function(){$(".quiz-step--veges").removeClass("active"),$(".quiz-step--meat").addClass("active")})),$(".quiz-step--meat .choose-input").click((function(){0<$('.quiz-step--meat input[name="food"]:checked').length?$(".quiz-step--meat .btn-primary").prop("disabled",!1):$(".quiz-step--meat .btn-primary").prop("disabled",!0)})),$(".quiz-step--meat .btn-primary").click((function(){$(".quiz-step--meat").removeClass("active"),$(".quiz-step--habits").addClass("active")})),$(".quiz-step--habits .choose-input").click((function(){0<$('.quiz-step--habits input[name="habits"]:checked').length?$(".quiz-step--habits .btn-primary").prop("disabled",!1):$(".quiz-step--habits .btn-primary").prop("disabled",!0)})),$(".quiz-step--habits .btn-primary").click((function(){$(".quiz-step--habits").removeClass("active"),$(".quiz-step--form").addClass("active")})),$(".quiz-step--form .form-control").keyup((function(){var t,i,a,r,n,s,o,u,d;""!=$('.quiz-step--form input[name="age"]').val()&&""!=$('.quiz-step--form input[name="height"]').val()&&""!=Number($('.quiz-step--form input[name="weight"]').val())&&""!=Number($('.quiz-step--form input[name="desired_weight"]').val())&&Number($('.quiz-step--form input[name="desired_weight"]').val())<Number($('.quiz-step--form input[name="weight"]').val())?($(".quiz-step--form .btn-primary").prop("disabled",!1),t=e.gender,i=e.age,a=e.height,r=e.weight,n=e.activity,s=Math.ceil(r/(a/100*(a/100))*100)/100,$(".js-imt").html(s),d=s="",u="male"==t?88.362+13.397*r+4.799*a-5.677*i:447.593+9.247*r+3.098*a-4.33*i,1==n?d=1.2:2==n?d=1.375:3==n?d=1.55:4==n?d=1.725:5==n&&(d=1.9),s=Math.round(u*d-u*d*.2),$(".js-calories").html(s),o=Math.round(s-s/100*20),$(".js-calories-part").html(o),t=Math.round(o-o/100*25),r=Math.round(o-o/100*80),a=Math.round(o-o/100*95),$(".js-fats").html(t),$(".js-proteins").html(r),$(".js-carbo").html(a),$(".js-fats-gr").html(Math.round(t/9)),$(".js-proteins-gr").html(Math.round(r/4)),$(".js-carbo-gr").html(Math.round(a/4))):$(".quiz-step--form .btn-primary").prop("disabled",!0)})),$('.quiz-step--form input[name="age"]').keyup((function(){18<=Number($(this).val())&&Number($(this).val())<=60?($(".validation-error--age").hide(),e.age=$(this).val(),$(".js-age").html(e.age)):$(".validation-error--age").show()})),$('.quiz-step--form input[name="height"]').keyup((function(){135<=Number($(this).val())&&Number($(this).val())<=250?($(".validation-error--height").hide(),e.height=$(this).val(),$(".js-height").html(e.height)):$(".validation-error--height").show()})),$('.quiz-step--form input[name="weight"]').keyup((function(){45<=Number($(this).val())&&Number($(this).val())<=200?($(".validation-error--weight").hide(),e.weight=$(this).val(),$(".js-weight").html(e.weight)):$(".validation-error--weight").show()})),$('.quiz-step--form input[name="desired_weight"]').keyup((function(){""!=$('.quiz-step--form input[name="weight"]').val()&&Number($(this).val())<Number($('.quiz-step--form input[name="weight"]').val())?($(".validation-error--desired_weight").hide(),e.new_weight=$(this).val(),$(".js-desired_weight").html(e.new_weight)):$(".validation-error--desired_weight").show()}));var t,i=900;t=setInterval((function(){i--;var e=Math.floor(i/60),a=i-60*e;0==e&&0==a&&clearInterval(t),a=10<=a?a:"0"+a,$(".minutes").html(10<=e?e:"0"+e),$(".seconds").fadeOut((function(){$(this).html(a),$(this).fadeIn()}))}),1e3),$('a[href^="#"]').click((function(){var e=$(this).attr("href");e=$(e).offset().top-60;return jQuery("html:not(:animated), body:not(:animated)").animate({scrollTop:e},800),!1}));var a=["Анализируем полученную информацию...","Выбираем подходящие рецепты...","Составляем персональное меню...","Почти готово..."],r=document.querySelector(".js-load-text");Number(0),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&function e(t){t<a.length?(r.innerHTML=a[t],t+=1,setTimeout((function(){e(t)}),2500)):document.querySelector(".loader button").click()}(0)}))})).observe(r),anime({targets:".anum-container",keyframes:[{rotateZ:30},{rotateZ:60},{rotateZ:90},{rotateZ:120},{rotateZ:150},{rotateZ:180}],duration:9e3,loop:!0}),anime({targets:[".side-odd .left",".side-odd .right"],keyframes:[{width:"80px"},{width:"40px"}],duration:3e3,loop:!0}),anime({targets:[".side-even .left",".side-even .right"],keyframes:[{width:"40px"},{width:"80px"}],duration:3e3,loop:!0}),999<=window.innerWidth?(anime({targets:[".side-odd .left",".side-odd .right"],keyframes:[{width:"80px"},{width:"40px"}],duration:3e3,loop:!0}),anime({targets:[".side-even .left",".side-even .right"],keyframes:[{width:"40px"},{width:"80px"}],duration:3e3,loop:!0})):(anime({targets:[".side-odd .left",".side-odd .right"],keyframes:[{width:"40px"},{width:"20px"}],duration:3e3,loop:!0}),anime({targets:[".side-even .left",".side-even .right"],keyframes:[{width:"20px"},{width:"40px"}],duration:3e3,loop:!0}))}));